<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Checkout</title>
    <script src="https://kit.fontawesome.com/e4353a2c7e.js" crossorigin="anonymous"></script>
   <link rel="stylesheet" href="formstyle.css">
</head>

<body>
    <div class="row">
        <div class="col-75">
            <div class="container">
                <form name="myForm"  action="/action_page.php">

                    <div class="row">
                        <div class="col-50">
                            <h3>Shipping Address</h3>
                            <label  for="fname"><i class="fa fa-user"></i> Name</label>
                            <input onchange = "return(validateName());"  type="text" id="fname" name="firstname" placeholder="Taylor" required>
                            <label for="sname"><i class="fa fa-user"></i>Surname</label>
                            <input onchange = "return(validateSurname());" type="text" id="sname" name="surname" placeholder="Swift" required>
                            <label for="sadr"><i class="fa fa-address-card-o"></i>Street Address</label>
                            <input onchange = "return(validateStreet());" type="text" id="sadr" name="street" placeholder="542 W. 15th Street" required>
                            <label for="house"><i class="fa fa-institution"></i>House number</label>
                            <input onchange = "return(validateHouse());" type="text" id="house" name="housenumber" placeholder="530" required>
                            <label for="flat"><i class="fa fa-institution"></i>Flat Number</label>
                            <input onchange = "return(validateFlat());" type="text" id="flat" name="flatnumber" placeholder="4-1230" required>
                            <label for="DOD"><i class="fa fa-calendar"></i>Date Of Delivery</label>
                            <input onchange = "return(validateDOD());" type="date" id="DOD" name="datedelivery" required>
                        </div>

                        <div class="col-50">
                            <h3>Payment Options-</h3>
                             <div style="display:flex;">
                                <div style="margin-right:20px;">
                            <label for="fname">Card</label>
                            <input type="radio" value="Card" checked="checked" id="fname" name="cardname" placeholder="John More Doe">
                            </div><div><label for="gname">Cash</label>
                            <input type="radio" value="Cash" id="gname" name="cardname" placeholder="John More Doe">
                            </div></div>
                        <input type="submit" value="Continue to checkout" id="checkoutbutton" class="btn">
                        </div>

                    </div>
                    <label>
                        <input type="checkbox" checked="checked" name="sameadr"> Shipping address same as billing
                    </label>

                </form>
            </div>
        </div>

    </div>
<script>
    let a=false;
    let b = false;
    let c = false;
    let d = false;
    let e = false;
    let f = false;
    document.getElementById("checkoutbutton").disabled = true;
   function validateName() {
       document.getElementById("checkoutbutton").disabled = true;
        if ((document.myForm.firstname.value.length)<4) {
            document.myForm.firstname.style.borderColor = "red";
            (document.getElementById("fname").previousElementSibling.innerHTML)= `<i class="fa fa-user"></i> Name` +" "+"[Name must contain minimum 4 letters!]";
             return false;
        }
        if (!/^[a-zA-Z]*$/g.test(document.myForm.firstname.value)) {
           document.myForm.firstname.style.borderColor = "red";
            (document.getElementById("fname").previousElementSibling.innerHTML) = `<i class="fa fa-user"></i> Name` + " " + "[Name must contain letters only!]";
            return false;
       }
        if ((document.myForm.firstname.value.length) >= 4) {
            document.myForm.firstname.style.borderColor = "";
            (document.getElementById("fname").previousElementSibling.innerHTML) = `<i class="fa fa-user"></i> Name`;
        }
       if (document.myForm.firstname.value === '') {
           a = false;
       }
       if (document.myForm.firstname.value !== '') {
           a = true;
       }
       if (a && b && c && d && e && f) {
           document.getElementById("checkoutbutton").disabled = false;
       }
    return (true);
    }
function validateSurname() {
    document.getElementById("checkoutbutton").disabled = true;
    if ((document.myForm.surname.value.length) < 5) {
        document.myForm.surname.style.borderColor = "red";
        (document.getElementById("sname").previousElementSibling.innerHTML) = `<i class="fa fa-user"></i>Surname` + " " + "[Surname must contain minimum 5 letters!]";
        return false;
    }
    if ((document.myForm.surname.value.length) >= 5) {
        document.myForm.surname.style.borderColor = "";
        (document.getElementById("sname").previousElementSibling.innerHTML) = `<i class="fa fa-user"></i> Surname`;
    }
    if (!/^[a-zA-Z]*$/g.test(document.myForm.surname.value)) {
        document.myForm.surname.style.borderColor = "red";
        (document.getElementById("sname").previousElementSibling.innerHTML) = `<i class="fa fa-user"></i> Surname` + " " + "[Surname must contain letters only!]";
        return false;
    }
    if (document.myForm.surname.value==='') {
        b=false;
    }
    if (document.myForm.surname.value !== '') {
        b=true;
    }
    if (a && b && c && d && e && f) {
        document.getElementById("checkoutbutton").disabled = false;
    }
    return (true);
}
function validateStreet() {
    document.getElementById("checkoutbutton").disabled = true;
    if ((document.myForm.street.value.length) < 5) {
        document.myForm.street.style.borderColor = "red";
        (document.getElementById("sadr").previousElementSibling.innerHTML) = `<i class="fa fa-address-card-o"></i>Street Address` + " " + "[Street Address must contain minimum 5 letters!]";
        return false;
    }
    if ((document.myForm.street.value.length) >= 5) {
        document.myForm.street.style.borderColor = "";
        (document.getElementById("sadr").previousElementSibling.innerHTML) = `<i class="fa fa-address-card-o"></i>Street Address`;
    }
   if (document.myForm.street.value==='') {
        c=false;
    }
    if (document.myForm.street.value !== '') {
        c=true;
    }
    if (a && b && c && d && e && f) {
        document.getElementById("checkoutbutton").disabled = false;
    }
    return (true);
}
    function validateHouse() {
        document.getElementById("checkoutbutton").disabled = true;
        if (isNaN(document.myForm.housenumber.value)) {
            document.myForm.housenumber.style.borderColor = "red";
            (document.getElementById("house").previousElementSibling.innerHTML) = `<i class="fa fa-institution"></i>House number` + " " + "[House number must contain only numbers!]";
            return false;
        }
         if (!isNaN(document.myForm.housenumber.value)) {
            document.myForm.housenumber.style.borderColor = "";
            (document.getElementById("house").previousElementSibling.innerHTML) = `<i class="fa fa-institution"></i>House number`;
        }
        if (Number(document.myForm.housenumber.value)<0) {
            document.myForm.housenumber.style.borderColor = "red";
            (document.getElementById("house").previousElementSibling.innerHTML) = `<i class="fa fa-institution"></i>House number` + " " + "[House number must contain only positive numbers!]";
            return false;
        }
       if (!Number(document.myForm.housenumber.value) < 0) {
           document.myForm.housenumber.style.borderColor = "";
             (document.getElementById("house").previousElementSibling.innerHTML) = `<i class="fa fa-institution"></i>House number`;
        }
        if (document.myForm.housenumber.value==='') {
            d=false;
        }
        if (document.myForm.housenumber.value !== '') {
            d=true;
        }
        if (a && b && c && d && e && f) {
            document.getElementById("checkoutbutton").disabled = false;
        }
        return (true);
    }
    function validateFlat(){
        document.getElementById("checkoutbutton").disabled = true;
               if (document.myForm.flatnumber.value[0]=='-') {
            document.myForm.flatnumber.style.borderColor = "red";
            (document.getElementById("flat").previousElementSibling.innerHTML) = `<i class="fa fa-institution"></i>Flat number` + " " + "[Flat number must contain only positive numbers or - symbol in between!]";
            return false;
                }

        document.myForm.flatnumber.value.split('-').forEach(element => {
            if (isNaN(element)) {
                document.myForm.flatnumber.style.borderColor = "red";
                (document.getElementById("flat").previousElementSibling.innerHTML) = `<i class="fa fa-institution"></i>Flat number` + " " + "[Flat number must contain only valid address( positive number or - symbol in between)!]";
                return false;
            }
            if (!isNaN(element)) {
                document.myForm.flatnumber.style.borderColor = "";
                (document.getElementById("flat").previousElementSibling.innerHTML) = `<i class="fa fa-institution"></i>Flat number`;
                return (true);
            }
        })
        if (document.myForm.flatnumber.value==='') {
            e=false;
        }
        if (document.myForm.flatnumber.value !== '') {
            e=true;
        }
        if (a && b && c && d && e && f) {
            document.getElementById("checkoutbutton").disabled = false;
        }
    }
    function validateDOD(){
        document.getElementById("checkoutbutton").disabled = true;
            var today = new Date().getTime(),
                idate = document.myForm.datedelivery.value.split("-");
            console.log(idate[2], idate[1]-1, idate[0])
            idate = new Date(idate[0], idate[1]-1, idate[2]).getTime();
            console.log(idate)
             if((today - idate) > 0){
   document.myForm.datedelivery.style.borderColor = "red";
    (document.getElementById("DOD").previousElementSibling.innerHTML) = `<i class="fa fa-calendar"></i>Date of delivery` + " " + "[Date of delivery must be in the future!]";
             }
                if((today - idate) < 0){
                    document.myForm.datedelivery.style.borderColor = "";
                    (document.getElementById("DOD").previousElementSibling.innerHTML) = `<i class="fa fa-calendar"></i>Date of delivery`;
                }
                if(document.myForm.datedelivery.value===''){
                    f=false;
                }
                if(document.myForm.datedelivery.value !== ''){
                    f=true;
                }
                if (a && b && c && d && e && f) {
            document.getElementById("checkoutbutton").disabled = false;
        }
 }

</script>
</body>

</html>